"use strict";

function initMobileHeader() {
    $(".header-menu").on("click", function () {
        $(".header-list").slideToggle()
    })
}

function popupHolder() {
    function e(o) {
        if (o && o.popupOverlay && o.popupToggleClass && o.btnToggle) {
            var e = $(o.popupOverlay);
            $(o.btnToggle).click(function () {
                e.addClass(o.popupToggleClass)
            }), e.click(function (e) {
                var p = e.target || e.srcElement;
                $(p).removeClass(o.popupToggleClass)
            }), $(".popup__close").click(function () {
                e.removeClass("popup_open")
            }), $(".popup__cancel").click(function () {
                e.removeClass("popup_open")
            }), $(function () {
                $(o.btnToggle).bind("click", function (e) {
                    e.preventDefault()
                })
            })
        }
    }
    e({
        popupOverlay: ".popup-earn-js",
        popupToggleClass: "popup_open",
        btnToggle: ".popup__toggle-earn"
    }), e({
        popupOverlay: ".popup-farm-js",
        popupToggleClass: "popup_open",
        btnToggle: ".popup__toggle-farm"
    }), e({
        popupOverlay: ".popup-new-total-js",
        popupToggleClass: "popup_open",
        btnToggle: ".popup-new-total-js"
    }), e({
        popupOverlay: ".popup-wait-js",
        popupToggleClass: "popup_open",
        btnToggle: ".popup-wait-js"
    }), e({
        popupOverlay: ".popup-new-js",
        popupToggleClass: "popup_open",
        btnToggle: ".popup-new-js"
    }), e({
        popupOverlay: ".popup-deposit-js",
        popupToggleClass: "popup_open",
        btnToggle: ".popup-deposit-js"
    }), e({
        popupOverlay: ".popup-withdraw-js",
        popupToggleClass: "popup_open",
        btnToggle: ".popup-withdraw-js"
    }), e({
        popupOverlay: ".popup-swapfailed-js",
        popupToggleClass: "popup_open",
        btnToggle: ".popup-swapfailed-js"
    }), e({
        popupOverlay: ".popup-depositfailed-js",
        popupToggleClass: "popup_open",
        btnToggle: ".popup-depositfailed-js"
    }), e({
        popupOverlay: ".popup-withdrawfailed-js",
        popupToggleClass: "popup_open",
        btnToggle: ".popup-withdrawfailed-js"
    })
}
var x, i, j, l, ll, selElmnt, a, b, c;
for (document.addEventListener("DOMContentLoaded", function (e) {
        initMobileHeader(), popupHolder()
    }), $(".btn-total--info").on("click", function () {
        $(".btn-aprove").addClass("show"), $(".popup .numb").addClass("hide")
    }), l = (x = document.getElementsByClassName("custom-select")).length, i = 0; i < l; i++) {
    for (ll = (selElmnt = x[i].getElementsByTagName("select")[0]).length, (a = document.createElement("DIV")).setAttribute("class", "select-selected"), a.innerHTML = selElmnt.options[selElmnt.selectedIndex].innerHTML, x[i].appendChild(a), (b = document.createElement("DIV")).setAttribute("class", "select-items select-hide"), j = 1; j < ll; j++)(c = document.createElement("DIV")).innerHTML = selElmnt.options[j].innerHTML, c.addEventListener("click", function (e) {
        var p, o, l, t, s, n, a;
        for (n = (t = this.parentNode.parentNode.getElementsByTagName("select")[0]).length, s = this.parentNode.previousSibling, o = 0; o < n; o++)
            if (t.options[o].innerHTML == this.innerHTML) {
                for (t.selectedIndex = o, s.innerHTML = this.innerHTML, a = (p = this.parentNode.getElementsByClassName("same-as-selected")).length, l = 0; l < a; l++) p[l].removeAttribute("class");
                this.setAttribute("class", "same-as-selected");
                break
            } s.click()
    }), b.appendChild(c);
    x[i].appendChild(b), a.addEventListener("click", function (e) {
        e.stopPropagation(), closeAllSelect(this), this.nextSibling.classList.toggle("select-hide"), this.classList.toggle("select-arrow-active")
    })
}

function closeAllSelect(e) {
    var p, o, l, t, s, n = [];
    for (p = document.getElementsByClassName("select-items"), o = document.getElementsByClassName("select-selected"), t = p.length, s = o.length, l = 0; l < s; l++) e == o[l] ? n.push(l) : o[l].classList.remove("select-arrow-active");
    for (l = 0; l < t; l++) n.indexOf(l) && p[l].classList.add("select-hide")
}
document.addEventListener("click", closeAllSelect);